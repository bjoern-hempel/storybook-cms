/*
 * This file is part of the https://github.com/bjoern-hempel/storybook-cms project.
 *
 * (c) 2025 Bj√∂rn Hempel <bjoern@hempel.li>
 *
 * For the full copyright and license information, please view the LICENSE.md
 * file that was distributed with this source code.
 */

@use "sass:color";
@use "functions" as *;

$themes: (
    theme-blue,
    theme-green,
);

$colors: (
    primary: (
        theme-blue: rgb(2, 15, 65),
        theme-green: rgb(17, 17, 17),
    ),
    white: (
        theme-blue: rgb(255, 255, 255),
        theme-green: rgb(255, 255, 255),
    ),
);

$backgrounds: (
    layout-dark: (
        theme-blue: rgba(0, 0, 0, 0) linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%) repeat 0 0 / auto padding-box border-box scroll,
        theme-green: rgba(0, 0, 0, 0) linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%) repeat 0 0 / auto padding-box border-box scroll,
    ),
    layout-light: (
        theme-blue: rgb(234, 244, 249),
        theme-green: rgb(234, 244, 249),
    ),
    value-card-dark: (
        theme-blue: radial-gradient(rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
        theme-green: radial-gradient(rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
    ),
    value-card-light: (
        theme-blue: rgb(234, 244, 249),
        theme-green: rgb(234, 244, 249),
    ),
    info-card-dark: (
        theme-blue: linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
        theme-green: linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
    ),
    info-card-light: (
        theme-blue: rgb(234, 244, 249),
        theme-green: rgb(234, 244, 249),
    ),
    header: (
        theme-blue: linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
        theme-green: linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
    ),
    footer: (
        theme-blue: linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
        theme-green: linear-gradient(92deg, rgb(0, 0, 7) 0%, rgb(0, 38, 73) 72%, rgb(0, 61, 112) 100%),
    ),
);

$buttons: (
    primary: (
        color: (
            theme-blue: get-theme($colors, primary, theme-blue),
            theme-green: get-theme($colors, white, theme-green),
        ),
        border-color: (
            theme-blue: transparent,
            theme-green: transparent,
        ),
        background: (
            theme-blue: linear-gradient(135deg, rgb(236, 195, 47) 0%, rgb(223, 183, 39) 100%),
            theme-green: rgb(254, 65, 2),
        ),
        background-hover: (
            theme-blue: linear-gradient(135deg, color.mix(rgb(127, 127, 127), rgb(236, 195, 47), 20%) 0%, color.mix(rgb(127, 127, 127), rgb(223, 183, 39), 20%) 100%),
            theme-green: color.mix(rgb(127, 127, 127), rgb(254, 65, 2), 20%),
        ),
    ),
    secondary: (
        color: (
            theme-blue: get-theme($colors, primary, theme-blue),
            theme-green: get-theme($colors, primary, theme-green),
        ),
        border-color: (
            theme-blue: rgba(get-theme($colors, primary, theme-blue), 0.2),
            theme-green: rgba(get-theme($colors, primary, theme-green), 0.2),
        ),
        background: (
            theme-blue: rgba(get-theme($colors, primary, theme-blue), 0.1),
            theme-green: rgba(get-theme($colors, primary, theme-green), 0.1),
        ),
        background-hover: (
            theme-blue: rgba(get-theme($colors, primary, theme-blue), 0.2),
            theme-green: rgba(get-theme($colors, primary, theme-green), 0.2),
        ),
    ),
);

@mixin generate-theme($theme) {

    /* Colors general */
    --color-primary: #{get-theme($colors, primary, $theme)};
    --color-white: #{get-theme($colors, white, $theme)};

    /* Colors for different background colors */
    --color-background-dark: #{get-theme($colors, white, $theme)};
    --color-background-light: #{get-theme($colors, primary, $theme)};

    /* Background layout */
    --background-layout-dark: #{get-theme($backgrounds, layout-dark, $theme)};
    --background-layout-light: #{get-theme($backgrounds, layout-light, $theme)};

    /* Background value card */
    --background-value-card-dark: #{get-theme($backgrounds, value-card-dark, $theme)};
    --background-value-card-light: #{get-theme($backgrounds, value-card-light, $theme)};

    /* Background info card */
    --background-info-card-dark: #{get-theme($backgrounds, info-card-dark, $theme)};
    --background-info-card-light: #{get-theme($backgrounds, info-card-light, $theme)};

    /* Background header */
    --background-header: #{get-theme($backgrounds, header, $theme)};

    /* Background footer */
    --background-footer: #{get-theme($backgrounds, footer, $theme)};

    /* Buttons primary */
    $button-primary: primary;
    --color-button-primary: #{get-theme-type($buttons, $button-primary, color, $theme)};
    --border-color-button-primary: #{get-theme-type($buttons, $button-primary, border-color, $theme)};
    --background-button-primary: #{get-theme-type($buttons, $button-primary, background, $theme)};
    --background-button-hover-primary: #{get-theme-type($buttons, $button-primary, background-hover, $theme)};

    /* Buttons secondary */
    $button-secondary: secondary;
    --color-button-secondary: #{get-theme-type($buttons, $button-secondary, color, $theme)};
    --border-color-button-secondary: #{get-theme-type($buttons, $button-secondary, border-color, $theme)};
    --background-button-secondary: #{get-theme-type($buttons, $button-secondary, background, $theme)};
    --background-button-hover-secondary: #{get-theme-type($buttons, $button-secondary, background-hover, $theme)};
}

/* Build theme styles */
@each $theme in $themes {
    :root.#{$theme} {
        @include generate-theme($theme);
    }
}
